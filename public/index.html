<!DOCTYPE html>
<ntml>

    <head>

        <title>Employee Full-Stack</title>
        <link rel="stylesheet" href="./styles/styles.css">
        <script src='./vendors/angular.min.js'></script>
        <script src='./vendors/client.js'></script>
    </head>

    <body ng-app="EmployeeApp" ng-controller="EmployeeController as vm">
        <h1>Employee Full Stack Form</h1>
        <form id='newEmployeeForm'>
            <p>
                <label for="firstName">First Name:</label><input type="text" name='firstName' placeholder="First Name" ng-model="vm.newEmployee.firstName">

                <label for="lastName">Last Name:</label><input type="text" name='lastName' placeholder="Last Name" ng-model="vm.newEmployee.lastName">
            </p>
            <p>
                <label for="jobTitle">Job Title:</label><input type="text" name='jobTitle' placeholder="Job Title" ng-model="vm.newEmployee.jobTitle">

                <label for="annualSalary">Annual Salary:</label><input type="text" name='annualSalary' placeholder="Annual Salary"
                    ng-model="vm.newEmployee.annualSalary">
            </p>
            <button ng-click="vm.submitNewEmployee()">Submit</button>
        </form>

        <br>
        <!-- {{vm.newEmployee}} -->
        <!-- {{vm.employeeList}} -->
        <br>

        <h1>Employees:</h1>

        <table>
            <thead>
                <tr>
                    <th>First Name:</th>
                    <th>Last Name:</th>
                    <th>Job Description:</th>
                    <th>Annual Salary:</th>
                    <th>Employee Status:</th>
                </tr>
            </thead>
            <tablebody>
                <tr ng-repeat="person in vm.employeeList">
                    <td>{{person.first_name}}</td>
                    <td>{{person.last_name}}</td>
                    <td>{{person.job_description}}</td>
                    <td>{{person.annual_salary | number:2}}</td>
                    <td ng-if="person.is_active"><button ng-click="vm.activeToggle(person.id)">Active</button></td>
                    <td ng-if="!person.is_active"><button ng-click="vm.activeToggle(person.id)">Deactive</button></td>
                </tr>
            </tablebody>
        </table>

        <br>

        <div id='averageDiv'>
            <h3>Monthly Salary Expenditure:</h3>
            <p>Total of all active employees</p>

            {{vm.totalActiveSalary | number:2}}

            <p>Monthly average of all active employees</p>

            {{vm.monthlyAverage | number:2}}
        </div>
    </body>

    </html>